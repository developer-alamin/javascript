<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Custom Fade In</title>
	<style type="text/css" media="screen">
		img{
			width: 600px;
			height: 400px;
		}
	</style>
</head>
<body>

	<button type="click" onclick="fadeOut()">Run</button>
	<img id="img" src="../../img/aa.jpg" alt="">
	<script type="text/javascript">
		var element = document.getElementById('img');
		var duration = 1000;
		var hideTime = 1000;
		var showTime = 1000;
		function Settime(value){
			element.style.opacity = value;
		}
		function fadeOut(){
			for(i=0;i<=1;i+=0.01){
				setTimeout("Settime("+(1-i)+")",i*duration);
			}
			setTimeout(fadeid,duration+hideTime);
		}
		function fadeid(){
			for(i=0;i<=1;i+=0.01){
				setTimeout("Settime("+i+")",i*duration);
			}
			setTimeout(fadeOut,duration+showTime);
		}
	</script>
</body>
</html>